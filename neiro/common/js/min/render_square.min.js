function threeStart(){initThree(),initCamera(),initObject(),cameraRender(),render()}function initThree(){WIDTH=window.innerWidth,HEIGHT=window.innerHeight,container=document.getElementById("render"),renderer=new THREE.CanvasRenderer,renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),renderer.setClearColor(16777215,1),container.appendChild(renderer.domElement),scene=new THREE.Scene,document.addEventListener("mousemove",onDocumentMouseMove,!1),window.addEventListener("resize",onWindowResize,!1)}function initCamera(){var e=75,n=WIDTH/HEIGHT,i=1,r=1e4;camera=new THREE.PerspectiveCamera(e,n,i,r),camera.position.set(0,0,CAMERAZ),camera.up.set(0,0,0),camera.lookAt({x:0,y:0,z:0})}function initObject(){particles=new Array;for(var e=2*Math.PI,n=0,i=0;AMOUNTX>i;i++)for(var r=0;AMOUNTY>r;r++){var a=new THREE.SpriteCanvasMaterial({color:15289899,program:function(n){n.globalAlpha=.9,n.beginPath(),n.arc(0,0,.3,0,e,!0),n.fill()}});particle=particles[n++]=new THREE.Sprite(a),particle.position.x=i*SEPARATION-AMOUNTX*SEPARATION/2,particle.position.z=r*SEPARATION-AMOUNTY*SEPARATION/2,scene.add(particle)}}function onWindowResize(){windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function onDocumentMouseMove(e){mouseX=e.clientX-windowHalfX,mouseY=e.clientY-windowHalfY}function cameraRender(){if(camera.position.x+=.02*(mouseX-camera.position.x),0>mouseY)var e=mouseY;else var e=0;if(camera.position.y+=.02*(50-e-camera.position.y),camera.lookAt(scene.position),fraction||(fraction=.1),.2>fraction);else;renderer.render(scene,camera),animationCameraId=requestAnimationFrame(cameraRender)}function render(){var e=new Uint8Array(analyser.frequencyBinCount);if(analyser.getByteFrequencyData(e),fraction||(fraction=.1),.2>fraction)var n=.1;else var n=fraction;for(var i=0,r=0;AMOUNTX>r;r++)for(var a=0;AMOUNTY>a;a++){var t=e[i];particle=particles[i++],particle.position.y=8*t*n+1,particle.scale.x=t/12*10*n+3,particle.scale.y=t/12*10*n+3}animationId=requestAnimationFrame(render)}var windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,WIDTH,HEIGHT,container,scene,renderer,mouseX=0,mouseY=0,camera,particles,particle;