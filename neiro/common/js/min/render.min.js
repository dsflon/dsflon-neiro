function render(){var a=new Uint8Array(analyser.frequencyBinCount);analyser.getByteFrequencyData(a);var n=new Uint8Array(analyser.frequencyBinCount);analyser.getByteTimeDomainData(n);var e=fraction+.1;if(!fraction)var e=.5;canvasContext.globalAlpha=e,canvasContext.clearRect(0,0,canvas.width,canvas.height);for(var t=0;t<analyser.frequencyBinCount;t++){var r=n[t],i=r/256,c=HEIGHT*i,l=HEIGHT-c-1,o=WIDTH/analyser.frequencyBinCount,s=t/analyser.frequencyBinCount*360,y=r;canvasContext.fillStyle="hsl("+s+", 50%, 50%)",canvasContext.beginPath(),canvasContext.arc(t*o,l,r/100,0,2*Math.PI,!1),canvasContext.fill()}for(var t=0;t<analyser.frequencyBinCount;t++){var r=a[t],i=r/256,c=HEIGHT*i,l=HEIGHT-c-1,o=WIDTH/analyser.frequencyBinCount,s=t/analyser.frequencyBinCount*360,v=l/HEIGHT*360;if(canvasContext.fillStyle="hsl("+v+", 70%, 50%)",canvasContext.beginPath(),userMediaFlag)var u=t*o*12,f=l,y=r/4;else var u=t*o*4,f=l+y,y=r/6;canvasContext.arc(u,f,y,0,2*Math.PI,!1),canvasContext.fill()}animationId=requestAnimationFrame(render)}