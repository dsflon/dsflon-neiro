function init(){playBtn=document.getElementById("playBtn"),stopBtn=document.getElementById("stopBtn"),userMediaBtn=document.getElementById("userMediaBtn"),file=document.getElementById("file"),fileWrap=document.getElementById("fileWrap"),volumeBtn=document.getElementById("volumeBtn"),loading=document.getElementById("loading"),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.AudioContext=window.AudioContext||window.webkitAudioContext,audioContext=new AudioContext,navigator.getUserMedia||(userMediaBtn.className="disabled"),file.addEventListener("change",function(e){fileReader.readAsArrayBuffer(e.target.files[0])}),userMediaBtn.addEventListener("click",function(){container.removeChild(container.childNodes.item(0)),valObj.AMOUNTX=14,valObj.AMOUNTY=14,valObj.CAMERAZ=450,FFT_SIZE=Math.pow(2,12),threeStart()}),analyser=audioContext.createAnalyser(),analyser.fftSize=FFT_SIZE,analyser.smoothingTimeConstant=SMOOTHING}for(var btn,volumeBtn,loading,valArray=new Array(["CAMERAX",1e3],["CAMERAY",1e3],["CAMERAZ",800],["RANDOM",0],["SEPARATION",50],["AMOUNTX",30],["AMOUNTY",30],["OPACITY",1],["SCALE",1],["YAXIS",1]),valObj=new Object,i=0;i<valArray.length;i++)valObj[valArray[i][0]]=valArray[i][1];var userAgent=window.navigator.userAgent.toLowerCase(),appVersion=window.navigator.appVersion.toLowerCase(),audioContext,audioBuffer,noteBuffer,fileReader=new FileReader,startOffset=0,startTime=0,gainNode,animationId,animationCameraId;window.addEventListener("load",function(){init(),threeStart()});